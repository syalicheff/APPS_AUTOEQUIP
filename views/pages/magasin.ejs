<!DOCTYPE html>
<html>

<head>        
  <meta charset="UTF-8">
  <title>INTERFACE MAGASIN AUTOEQUIP</title>

  <!-- CSS (load bootstrap from a CDN) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="style/style.css">
  <script src="./js/header.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
  <script type="text/javascript" src="./js/datatables.js"></script>


</head>
<header>
    <%- include('../partials/header'); %>
</header>

<body class="">
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
    TABLE DE CORRESPONDANCE PAYS
  </button>
  
  <br>
  <br>
    <div id = "filters_buttons">
      <div class="container_datatables">
        <% if (locals.datas){  %>
          <% for (var i=1; i<locals.datas.length -1; i++) { %>
            <table id="" class="display cell-border ligne" style="width:100%">
              <thead>
                <tr>
                  <% if (i==1){%>
                    <td><h4> FOURNISSEUR</h4> </td>
                  <% }; %>
                  <% if (i==2){%>
                    <td><h4> BC ACHAT </h4> </td>
                  <% } %>
                  <% if (i==3){%>
                    <td><h4>  DOC CLIENT</h4> </td>
                  <% } %>
                  <% if (i==4){%>
                    <td><h4> REFERENCE</h4> </td>
                  <% } %>
                  <% if (i==5){%>
                    <td><h4> CLIENT</h4> </td>
                  <% } %>
                  <% if (i==6){%>
                    <td><h4> PAYS </h4> </td>
                  <% } %>
                </tr>
              </thead>
              <tbody>
              <% for (var y=0; y<locals.datas[i].length; y++) { %>
                <tr> 
                  <td> <%= locals.datas[i][y] %> </td>
                </tr> 
              <% } %>
              </tbody>  
            </table>
          <% } %>
      </div>
      <div class="buttons">
        <button id="" class="btn btn-danger">EFFACER LES FILTRES</button>
        <button id="" class="btn btn-danger">ACTUALISER LES LISTES</button>
        <button id="resetQTE" class="btn btn-danger">REINITIALISER QTE</button>
        <button id="" class="btn btn-danger">TRANSFORMER</button>
      </div>
    </div>

      <table id="" class="display_Data cell-border ligne" style="width:100%">
        <thead>
          <tr>
          <% Object.keys(locals.datas[7][0]).forEach(function(element){ %>
          <td><h6><%= element %></h4></td>
          <% }) %> 
          </tr>
        </thead>
        <tbody>
          <% for(var i=1; i<locals.datas[7].length; i++){ %>
            <tr>
              <% Object.keys(locals.datas[7][i]).forEach(function(element){ %>
                <% if (element == 'QTE RECUE'){ %>
                  <td class="number"><input type="number" min="0" max="1000" value ="<%= locals.datas[7][i][element] %>"> </td>
                <% }else{ %>
                  <td class=""><%= locals.datas[7][i][element] %></td>
                <% } %>
              <% }) %>
            </tr> 
          <% } %>
        </tbody>
      </table> 
    <% } %>

    <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">TABLE DE CORRESPONDANCE DES PAYS</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <table class="display_Data" id="modalTable">
          <thead>
            <tr>
              <td><h3>PAYS</h3></td>
              <td><h3>CODE AEROPORT</h3></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>COTE D'IVOIRE</td>
              <td>ABJ</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
        <button type="button" class="btn btn-primary">Sauvegarder</button>
      </div>
    </div>
  </div>
</div>
  <footer>
    <%- include('../partials/footer'); %>
  </footer> 
</body>
</html


